services:
  - name: sshd
    nodes:
      - eclipse
    unit: |
      [Unit]
      Description=Catboard port 7777
      [Service]
      WorkingDirectory=/root/catboard
      ExecStart=/root/env/bin/python /root/catboard/app.py --port 7777
    deploy: |
      apt install python3-pip
      git clone https://github.com/dvolk/catboard /root/catboard
      cd /root/catboard
      python3 -venv env
      source env/bin/activate
      pip3 install -r requirements.txt
      flask db upgrade
    delete: |
      rm -rf /root/catboard
  - name: mongodb
    nodes:
      - eclipse
  - name: ModemManager
    nodes:
      - eclipse
